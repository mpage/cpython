# This file contains suppressions for the free-threaded build. It contains the
# suppressions for the default build and additional suppressions needed only in
# the free-threaded build.
#
# reference: https://github.com/google/sanitizers/wiki/ThreadSanitizerSuppressions

## Default build suppresssions

race:get_allocator_unlocked
race:set_allocator_unlocked

## Free-threaded suppressions

race_top:_add_to_weak_set
race_top:_in_weak_set
race_top:_mi_heap_delayed_free_partial
race_top:_PyEval_EvalFrameDefault
race_top:_PyImport_AcquireLock
race_top:_PyImport_ReleaseLock
race_top:_PyInterpreterState_SetNotRunningMain
race_top:_PyInterpreterState_IsRunningMain
race_top:_PyObject_GC_IS_SHARED
race_top:_PyObject_GC_SET_SHARED
race_top:_PyObject_GC_TRACK
# https://gist.github.com/mpage/0a24eb2dd458441ededb498e9b0e5de8
race_top:_PyParkingLot_Park
race_top:_PyType_HasFeature
race_top:assign_version_tag
race_top:gc_restore_tid
race_top:initialize_new_array
race_top:insertdict
race_top:lookup_tp_dict
race_top:mi_heap_visit_pages
race_top:PyMember_GetOne
race_top:PyMember_SetOne
race_top:new_reference
race_top:set_contains_key
race_top:set_inheritable
race_top:start_the_world
race_top:tstate_set_detached
race_top:unicode_hash
race_top:Py_SET_TYPE
race_top:_PyDict_CheckConsistency
race_top:_PyImport_AcquireLock
race_top:_Py_atomic_compare_exchange_int
race_top:_Py_atomic_load_uintptr_relaxed
race_top:_Py_dict_lookup_threadsafe
race_top:__tsan_memset
race_top:_imp_release_lock
race_top:_multiprocessing_SemLock_acquire_impl
race_top:builtin_compile_impl
race_top:count_next
race_top:dictiter_new
race_top:dictresize
race_top:insert_to_emptydict
race_top:insertdict
race_top:list_get_item_ref
race_top:make_pending_calls
race_top:recv
race_top:set_add_entry
race_top:should_intern_string
race_top:worklist_pop
race_top:_PyEval_IsGILEnabled
race_top:llist_insert_tail
race_top:_Py_slot_tp_getattr_hook

# https://gist.github.com/mpage/6962e8870606cfc960e159b407a0cb40
thread:pthread_create
